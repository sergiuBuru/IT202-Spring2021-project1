<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <title>Hello, world!</title>
  </head>
  <body>
    
    <!-- Nav bar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a id = "home-nav-item" class="nav-link" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a id="form-nav-item" class="nav-link" href="#">Form</a>
              </li>
              <li class="nav-item">
                <a id="form-data-item" class="nav-link" href="#">Data</a>
              </li>
              <li class="nav-item">
                <a id="form-map-item" class="nav-link" href="#">Map</a>
              </li>
              <li class="nav-item">
                <a id="form-about-item" class="nav-link" href="#">About</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Main container -->
      <div id="body-container" class="container">

      </div>


    <script>
      //------------------------FUNCTIONS------------------------
      var loadHomeScreen = function() {
        removeAllChildNodes(bodyContainer);
        //description that will be displayed on the Home screen
        var description = document.createElement("p");
        description.innerText = "insert description here";
        bodyContainer.appendChild(description);
      }
      
      //When the page loads mark the home nav item as active.
      //Dinamically display a description of what the app does.
      window.onload = function() {
        document.querySelector("#home-nav-item").classList.add("active");
        loadHomeScreen();
      }

      //Credit: https://www.javascripttutorial.net/dom/manipulating/remove-all-child-nodes/
      var removeAllChildNodes = function (parent) {
        while (parent.firstChild) {
          parent.removeChild(parent.firstChild);
        }
      }
      
      //Clear the container and add the form to it
      var addForm = function() {
        removeAllChildNodes(bodyContainer);
        bodyContainer.appendChild(form);
      } 

      //------------------------OBJECTS------------------------
      // main body container that encapsulates the content for each screen
      var bodyContainer = document.querySelector("#body-container");

      var homeNavItem = document.querySelector("#home-nav-item");

      var formNavItem = document.querySelector("#form-nav-item");
      
      //Things to include in form: sq_ft, community_area_name
      var form = document.createElement("form");
      form.innerHTML = `
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label">Email address</label>
          <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
        </div>
        <div class="mb-3">
          <label for="exampleInputPassword1" class="form-label">Password</label>
          <input type="password" class="form-control" id="exampleInputPassword1">
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>`;
      
        
      //------------------------EVENT HANDLERS------------------------
      homeNavItem.addEventListener("click", loadHomeScreen);

      formNavItem.addEventListener("click", addForm);
      


      fetch("https://data.cityofchicago.org/resource/aksk-kvfp.json")
        .then(response => response.json())
        .then( data => {
          data.forEach(element => {
            console.log(element);
          });
        });

    </script>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>

  </body>
</html>